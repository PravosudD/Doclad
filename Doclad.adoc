== Доклад: Операционная система реального времени, вытесняющая

Операционные системы ОС — это комплекс управляющих и обрабатывающих программ, которые, с одной стороны, выступают как интерфейс между устройствами вычислительной системы и прикладными программами, а с другой стороны — предназначены для управления устройствами и вычислительными процессами, эффективного распределения ресурсов между вычислительными процессами и организации надёжных вычислений.


Требования к ОС

.Требования к ОС
image::1.PNG[]

В любой многозадачной системе центральный процессор быстро переключается между процессами, предоставляя каждому из них десятки или сотни миллисекунд. При этом, хотя в каждый конкретный момент времени центральный процессор работает только с одним процессом, в течение 1 секунды он может успеть поработать с несколькими из них, создавая иллюзию параллельной работы. Это постоянное переключение между процессами называется многозадачным режимом работы. 

На рисунке справа показан компьютер, работающий в многозадачном режиме и имеющий в памяти четыре программы. На рисунке слева показано, что за довольно длительный период наблюдения продвинулись вперед все процессы, но в каждый отдельно взятый момент времени реально работает только один процесс.


.Реализация многозадачности
image::2.PNG[]

Типы многозадачных операционных систем:

- Пакетная ОС 
- Системы разделения времени 
- ОС реального времени.

Операционная система реального времени (ОСРВ, англ. real-time operating system, RTOS) — тип операционной системы, основное назначение которой заключается в том, что все функции планирования ориентированы на обработку фиксированного набора событий за время, не превосходящее некоторого предельного значения.

Выполение фиксированного набора событий реализуется за счет алгоритма планирования, котоый бывает двух типов:


.Классификация алгоритма планирования
image::3.PNG[]

Продолжительность выполнения задачи зависит от кванта времени отпущенного для её решения. Продолжительность кванта времени влияет на общую производительность системы.

Процесс исполняется до тех пор, пока не произойдет одно из следующих событий:

- Истек выделенный ему квант времени; 
- процесс заблокирован, например, ждет завершения операции ввода/вывода; 
- процесс завершился ; 
- вытеснен другим процессом, имеющим более высокий приоритет, например, обработчиком прерываний.

.Классификация планировщиков
image::4.PNG[]

Принудительная приостановка текущего процесса для передачи управления другому процессу называется вытеснением.

При вытесняющей многозадачности управление ядру возвращается по таймеру. Все процессы практически равны по времени исполнения и постоянно переключаются по таймеру, либо в ожидании взаимодействия с внешним устройством.

Преимущества:

- упрощение приложений – не нужно заботится о многозадачности.
- процессу не нужно регулировать процесс переключения процессов
- упрощенное паралельное выполнение процессов
- можно запускать много задач.

Недостаток:

- задача не может контролировать промежуток своей работы и врямя отключения

Вытесняющая (preemptive) многозадачность заключается в том, что в состав ядра входит планировщик задач ОС. 

Планировщик задач периодически получает управление, это обеспечивает переключение процессора с одной задачи на другую, имеющую более высокий приоритет или равноценную по приоритету. 
Модуль ядра, содержащий планировщик, является привилегированным, то есть он может в любой момент вытеснить с процессора любую задачу, его же не может вытеснить никто. 

Планировщик запускается периодически, независимо ни от каких событий, происходящих в системе. Порядок работы остальных компонентов ядра во многом зависит от его архитектуры.

Пример вытесняющей ОС:

.Пример вытесняющей ОС
image::5.PNG[]

К недостаткам вытесняющей многозадачности можно отнести и то, что в ОС с монолитным ядром всё ядро (в силу своей нераздельности) имеет тот же приоритет, что и планировщик задач. Это означает, что выполнение любой операции в ядре не может быть приостановлено планировщиком задач в интересах какого-то другого процесса. Поэтому когда в ядре системы происходит какая-нибудь задержка, вся система на время этой задержки «подвисает» и никакие программы выполняться не могут.

Естественно, в правильно спроектированных ядрах такого рода задержки редки и не особенно велики, но, тем не менее, они имеют место.

--




